(this["webpackJsonpmilenium-client"]=this["webpackJsonpmilenium-client"]||[]).push([[0],{38:function(e,n,t){e.exports=t(66)},64:function(e,n,t){},66:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),i=t(29),o=t.n(i),c=t(5),l=t.n(c),u=t(10),s=t(12),p=t(1),f=t(7),d=t(30),b=t.n(d).a.create({baseURL:"https://milenium-server.herokuapp.com"}),m=t(16),x=function(e,n,t){var i=a.a.createContext();return{Context:i,Provider:function(o){var c=o.children,l=Object(r.useReducer)(e,t),u=Object(f.a)(l,2),d=u[0],b=u[1],m=Object.keys(n).reduce((function(e,t){return Object(p.a)(Object(p.a)({},e),{},Object(s.a)({},t,n[t](b)))}),{});return a.a.createElement(i.Provider,{value:Object(p.a)({state:d},m)},c)}}}((function(e,n){var t=n.type,r=n.payload;switch(t){case"ADD_PROFILE":var a=r.profiles;return Object(p.a)(Object(p.a)({},e),{},{profiles:[].concat(Object(m.a)(e.profiles),Object(m.a)(a))});case"REMOVE_PROFILE":var i=r.profile;return Object(p.a)(Object(p.a)({},e),{},{profiles:e.profiles.filter((function(e){var n=e._id;return i!==n}))});case"UPDATE_PROFILE":var o=r.profile,c=Array.from(e.profiles);return c.splice(c.findIndex((function(e){var n=e._id;return o._id===n})),1,o),Object(p.a)(Object(p.a)({},e),{},{profiles:c});case"SET_CURRENT_PROFILE":return Object(p.a)(Object(p.a)({},e),{},{currentProfile:e.profiles.find((function(e){return e._id===r}))});default:return e}}),{fetchProfiles:function(e){return function(){var n=Object(u.a)(l.a.mark((function n(t){var r,a,i;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.get("/profiles");case 2:if(r=n.sent,a=r.data,!(i=r.error)){n.next=7;break}return n.abrupt("return",console.log(i));case 7:e({type:"ADD_PROFILE",payload:{profiles:a}});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},addProfile:function(e){return function(){var n=Object(u.a)(l.a.mark((function n(t){var r,a,i,o,c,u;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.name,a=t.bio,i=t.fb_id,n.next=3,b.post("/profiles",{name:r,bio:a,fb_id:i});case 3:if(o=n.sent,c=o.data,!(u=o.error)){n.next=8;break}return n.abrupt("return",console.log(u));case 8:e({type:"ADD_PROFILE",payload:{profiles:[c]}});case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},removeProfile:function(e){return function(){var n=Object(u.a)(l.a.mark((function n(t){var r,a,i;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.delete("/profiles/".concat(t));case 2:if(r=n.sent,a=r.data._id,!(i=r.error)){n.next=7;break}return n.abrupt("return",console.log(i));case 7:e({type:"REMOVE_PROFILE",payload:{profile:a}});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},updateProfile:function(e){return function(){var n=Object(u.a)(l.a.mark((function n(t){var r,a,i;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.put("/profiles",t,{"Content-Type":"application/json"});case 2:if(r=n.sent,a=r.data,!(i=r.error)){n.next=7;break}return n.abrupt("return",console.log(i));case 7:e({type:"UPDATE_PROFILE",payload:{profile:a}});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},setCurrentProfile:function(e){return function(n){e({type:"SET_CURRENT_PROFILE",payload:n})}}},{profiles:[],currentUser:null}),v=x.Provider,h=x.Context,E=t(2),O={name:"",fb_id:"",bio:""},g=function(e,n){var t=n.type,r=n.payload;switch(t){case"set_name":return Object(p.a)(Object(p.a)({},e),{},{name:r});case"set_fb_id":return Object(p.a)(Object(p.a)({},e),{},{fb_id:r});case"set_bio":return Object(p.a)(Object(p.a)({},e),{},{bio:r});case"reset":return O;default:return e}},j=t(3);function y(){var e=Object(E.a)(["\n  height: 30px;\n  background-color: ",";\n  border: solid thin;\n  color: ",";\n  margin: 5px 2px;\n\n  margin-right: 25px;\n  padding: 5px 20px;\n  display: inline-flex;\n  align-items: center;\n  border: none;\n  font-size: 16px;\n  font-weight: 700;\n  border-radius: 7px;\n\n  &:hover {\n    cursor: pointer;\n  }\n"]);return y=function(){return e},e}var w=j.a.div(y(),(function(e){return e.bgColor||"#2f78b9"}),(function(e){return e.color||"white"})),_=t(36),k=function(e){var n=e.dispatch,t=e.actionType,i=e.value,o=Object(_.a)(e,["dispatch","actionType","value"]),c=Object(r.useCallback)((function(e){n({type:t,payload:e.target.value})}),[]);return a.a.createElement("input",Object.assign({onChange:c,value:i,name:t,type:"text"},o))};function C(){var e=Object(E.a)(["\n  position: relative;\n  background-color: black;\n  display: flex;\n  height: 50px;\n  flex-direction: row;\n  align-items: center;\n\n  input {\n    margin: 5px 2px;\n    line-height: 20px;\n    font-size: 20px;\n    height: 30px;\n    border-radius: 5px;\n    border-width: 2px;\n    @media (max-width: 480px) {\n      width: 95px;\n    }\n  }\n"]);return C=function(){return e},e}var P=j.a.div(C()),R=function(){var e=Object(r.useContext)(h).addProfile,n=Object(r.useReducer)(g,O),t=Object(f.a)(n,2),i=t[0],o=i.name,c=i.bio,l=i.fb_id,u=t[1];return a.a.createElement(P,null,a.a.createElement(k,{value:o,actionType:"set_name",dispatch:u,placeholder:"Name"}),a.a.createElement(k,{value:c,actionType:"set_bio",dispatch:u,placeholder:"Bio"}),a.a.createElement(k,{value:l,actionType:"set_fb_id",dispatch:u,placeholder:"FaceBook ID"}),a.a.createElement(w,{bgColor:"#58b957",onClick:function(){e({name:o,bio:c,fb_id:l}),u({type:"reset"})}},"Create"))},T=t(34),I=t.n(T);function N(){var e=Object(E.a)(["\n  border-radius: 5px;\n\n  width: 30%;\n\n  display: flex;\n  flex-direction: row;\n  background-color: rgba(220, 220, 220, 0.5);\n  font-size: 20px;\n  height: 60px;\n  margin: 5px;\n  align-items: center;\n  svg {\n    cursor: pointer;\n    margin-right: 10px;\n  }\n  .profile-name-tile {\n    flex: 1;\n    margin-left: 24px;\n  }\n  @media (max-width: 480px) {\n    width: 100%;\n    /* big landscape tablets, laptops, and desktops */\n  }\n"]);return N=function(){return e},e}var F=j.a.div(N()),D=function(e){var n=e._id,t=e.name,i=Object(r.useContext)(h),o=i.setCurrentProfile,c=i.removeProfile,l=Object(r.useCallback)((function(){o(n)}),[n,o]),u=Object(r.useCallback)((function(){c(n)}),[n,c]);return a.a.createElement(F,null,a.a.createElement("div",{className:"profile-name-tile"},t),a.a.createElement(w,{onClick:l},"Edit"),a.a.createElement(I.a,{title:"Remove",onClick:u,style:{color:"red"}}))};function L(){var e=Object(E.a)(["\n  position: absolute;\n  top: 0;\n  justify-content: center;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.4);\n  z-index: 1;\n  display: flex;\n  align-items: center;\n"]);return L=function(){return e},e}var z=j.a.div(L()),A=function(e){var n=e.children,t=e.hide;return a.a.createElement(z,{onClick:t},n)},U=t(35),B=t.n(U);function S(){var e=Object(E.a)(["\n  position: absolute;\n  right: 20px;\n  top: 20px;\n  color: lightgrey;\n  &:hover {\n    cursor: pointer;\n  }\n"]);return S=function(){return e},e}function M(){var e=Object(E.a)(["\n  z-index: 2;\n  background-color: white;\n  position: relative;\n  width: 50%;\n\n  border-radius: 5px;\n  box-shadow: 4px 4px 10px;\n  display: flex;\n  flex-direction: column;\n  input {\n    border-radius: 5px;\n    width: 100%;\n    padding: 5px;\n    font-size: 16px;\n    border-width: 1px;\n  }\n  .row {\n    padding: 10px;\n    display: flex;\n    flex-direction: row;\n\n    border-bottom: 1px solid lightgrey;\n  }\n  .profile-name {\n    flex: 1;\n    flex-direction: row;\n    display: flex;\n    align-items: center;\n    padding-left: 30px;\n    font-size: 18px;\n    font-weight: 500;\n  }\n  .image-container {\n    border-radius: 50px;\n    overflow: hidden;\n    img {\n      width: 80px;\n      border-radios: 40px;\n    }\n  }\n"]);return M=function(){return e},e}var J=j.a.div(M()),V=Object(j.a)(B.a)(S()),q=function(){var e=Object(r.useContext)(h),n=e.state.currentProfile,t=e.updateProfile,i=e.setCurrentProfile,o=n._id,c=Object(r.useReducer)(g,n),l=Object(f.a)(c,2),u=l[0],s=u.name,p=u.bio,d=u.fb_id,b=l[1],m=Object(r.useCallback)((function(){i(null),b({type:"reset"})}),[i,b]);return a.a.createElement(J,{className:"dialog-content"},a.a.createElement(V,null),a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"image-container"},a.a.createElement("img",{src:"http://graph.facebook.com/".concat(n.fb_id,"/picture?type=square")})),a.a.createElement("div",{className:"profile-name"},"Edit ",n.name)),a.a.createElement("div",{style:{flex:1}},a.a.createElement("div",{className:"row"},a.a.createElement(k,{value:s,actionType:"set_name",dispatch:b,placeholder:"Name"})),a.a.createElement("div",{className:"row"},a.a.createElement(k,{value:p,actionType:"set_bio",dispatch:b,placeholder:"Bio"})),a.a.createElement("div",{className:"row"},a.a.createElement(k,{value:d,actionType:"set_fb_id",dispatch:b,placeholder:"FaceBook ID"}))),a.a.createElement("div",{className:"row"},a.a.createElement("div",{style:{flex:1}}),a.a.createElement(w,{onClick:m},"Close"),a.a.createElement(w,{onClick:function(){t({_id:o,name:s,bio:p,fb_id:d}),i(null)}},"Save Changes")))},G=function(){var e=Object(r.useContext)(h),n=e.state.currentProfile,t=e.setCurrentProfile;return n?a.a.createElement(A,{hide:function(e){!e.target.closest(".dialog-content")&&t(null)}},a.a.createElement(q,null)):null};function H(){var e=Object(E.a)(["\n  display: flex;\n  justify-content: flex-start;\n  flex-wrap: wrap;\n"]);return H=function(){return e},e}var K=j.a.div(H()),Q=function(){var e=Object(r.useContext)(h),n=e.state.profiles,t=e.fetchProfiles;return Object(r.useEffect)((function(){t()}),[]),a.a.createElement(K,null,a.a.createElement(G,null),n.map((function(e){return a.a.createElement(D,e)})))};function W(){var e=Object(E.a)(["\n  @media (max-width: 480px) {\n    width: 100%;\n    position: absolute;\n  }\n  top: 0;\n  bottom: 0;\n  left: 0;\n"]);return W=function(){return e},e}var X=j.a.div(W()),Y=function(){return a.a.createElement(X,null,a.a.createElement(R,null),a.a.createElement(Q,null))};var Z=function(){return a.a.createElement(v,null,a.a.createElement(Y,null))};t(64);o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(Z,null)),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.2d4e07d4.chunk.js.map